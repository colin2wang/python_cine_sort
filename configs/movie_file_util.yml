# 电影文件扫描器配置文件

# 支持的文件扩展名
extensions:
  - .mkv
  - .mp4
  - .avi
  - .mov
  - .wmv
  - .flv
  - .webm

# 文件名清理规则（按顺序应用）
cleanup_rules:
  # 1. 移除括号内容（发布组、标签等）
  - '\[.*?\]'           # 方括号及其内容
  - '\(.*?\)'           # 圆括号及其内容
  
  # 2. 移除网站和来源标识
  - '阳光电影|最新电影|电影天堂|电影港|迅雷下载|磁力链接|dygod\.org'  # 常见网站标识
  # 更精确的域名匹配，避免误匹配正常文件名
  - '(?:阳光电影|最新电影|电影天堂|电影港|迅雷下载|磁力链接)[a-zA-Z0-9.-]*\.[a-zA-Z]{2,}\.'  # 特定网站域名前缀
  - 'dygod\.org\.'                                                # dygod.org. 域名前缀
  - 'www\.[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}'                           # www开头的网址
  - '[a-zA-Z0-9.-]+\.(?:com|net|org|cn|cc)\b'                      # 常见顶级域名（单词边界）
  
  # 3. 移除分辨率相关标识
  - '\d+[pP]'           # 如 1080p, 720P, 4k, 4K 等（大小写不敏感）
  - '\d+[kK]'           # 如 4K, 8k, 4k, 8K 等（大小写不敏感）
  - '4[Kk]|8[Kk]'       # 4K, 8K 标识（大小写不敏感）
  # 移除年份（在清理阶段处理）
  - '\.((?:19|20)\d{2})\.'  # 匹配 .2022. 格式
  - '^((?:19|20)\d{2})\.'   # 匹配文件名开头的年份
  - '\.((?:19|20)\d{2})$'   # 匹配文件名结尾的年份
  # 添加更多年份格式的清理规则
  - '((?:19|20)\d{2})(?:版|年)'  # 匹配 2025版, 2024年 等格式
  - '(?:^|\s)((?:19|20)\d{2})(?:$|\s)'  # 匹配独立的年份数字
  
  # 4. 移除视频质量标识
  - 'HD|BD|DVD|WEBRIP|BLURAY|BDRIP|HDRIP|CAM|R5|TS|TC|SCR|HQ|HQCD'  # 视频质量
  - 'XVID|DIVX|H264|H\.264|H265|H\.265|HEVC|AVC|VP9'              # 编码格式
  
  # 5. 移除语言和字幕标识（支持部分匹配）
  # 使用更简单的模式匹配包含关键字的整个段落
  - '\S*(?:国语|粤语|台配|日语|韩语|英语|法语|德语|俄语|西班牙语|泰语|菲律宾语|他加禄语)\S*'  # 语言相关段落
  - '\S*(?:中字|中英双字|双语字幕|内嵌中字|简体中字|繁体中字)\S*'  # 字幕相关段落
  - '\S*(?:无水印|完整版|高清版|修复版|导演版|加长版|国粤双语)\S*'  # 特殊版本段落
  # 英文语言标识段落匹配
  - '\S*(?:Filipino|Tagalog|English|Chinese)\S*'  # 英文语言段落
  # 字幕组合标识
  - 'CHS\s*-\s*ENG|ENG\s*-\s*CHS|CHS ENG|ENG CHS'               # 中英字幕组合
  
  # 6. 移除其他技术标识
  - 'MP4|MKV|AVI|MOV|WMV|FLV|WEBM'                                 # 文件格式
  - 'AAC|AC3|DTS|FLAC|WAV'                                         # 音频格式
  - 'DDP?\d\.\d|Dolby|杜比|环绕声'                               # 音频技术
  - 'HDR|HDR10|Dolby Vision'                                       # HDR技术
  # 发布组标识
  - 'YJYS|BDYS|JYYS|DYYS|YYDS'                                    # 常见发布组（长模式优先）
  
  # 7. 清理标点符号和多余字符
  - '^[.\-_]+'          # 开头的点横线
  - '[.\-_]+$'          # 结尾的点横线
  - '\.{2,}'            # 两个或以上连续点
  - '_+'                 # 多个连续下划线
  - '-+'                 # 多个连续横线
  - '\.{2,}'            # 多个连续点号

# 年份提取模式
year_patterns:
  - '(?:19|20)\d{2}'  # 四位数年份（使用非捕获组）

# 电影名提取规则
movie_name_rules:
  # 基本电影名提取（清理后的字符串就是电影名）
  - '^(.+)$'  # 匹配整个字符串作为电影名

